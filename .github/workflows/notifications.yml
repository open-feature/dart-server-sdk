name: Notifications

on:
  pull_request:
  push:
    branches:
     - main
     - qa
     - development

jobs:
  notify:
    runs-on: ubuntu-latest
    permissions:
      contents: 'read'
      id-token: 'write'
    
    steps:
      - name: Notify Google Chat
        if: ${{ secrets.GOOGLE_CHAT_WEBHOOK_URL != '' }}
        uses: SimonScholz/google-chat-action@main
        with:
          webhookUrl: '${{ secrets.GOOGLE_CHAT_WEBHOOK_URL }}'
